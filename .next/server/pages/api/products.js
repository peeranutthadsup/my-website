"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/products";
exports.ids = ["pages/api/products"];
exports.modules = {

/***/ "mysql2/promise":
/*!*********************************!*\
  !*** external "mysql2/promise" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("mysql2/promise");

/***/ }),

/***/ "(api)/./pages/api/products.js":
/*!*******************************!*\
  !*** ./pages/api/products.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var mysql2_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mysql2/promise */ \"mysql2/promise\");\n/* harmony import */ var mysql2_promise__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mysql2_promise__WEBPACK_IMPORTED_MODULE_0__);\n\nasync function handler(req, res) {\n    const connection = await mysql2_promise__WEBPACK_IMPORTED_MODULE_0___default().createConnection({\n        host: \"localhost\",\n        user: \"root\",\n        password: \"\",\n        database: \"SellerShopee\"\n    });\n    try {\n        if (req.method === \"GET\") {\n            const { id } = req.query;\n            if (id) {\n                const [rows] = await connection.execute(`SELECT \r\n            p.product_id,\r\n            p.product_key,\r\n            p.product_name,\r\n            p.product_category_id,\r\n            pc.product_category_name,\r\n            p.color_id,\r\n            c.color_name,\r\n            p.qty,\r\n            p.stock,\r\n            p.purchase_price,\r\n            p.lot,\r\n            p.shipping_cost_piece,\r\n            p.total_cost_including_shipping,\r\n            p.sell_price_1,\r\n            p.sell_price_2,\r\n            p.sell_price_3,\r\n            p.product_status,\r\n            p.is_shopee,\r\n            p.is_lazada\r\n          FROM product p\r\n          LEFT JOIN color c ON c.color_id = p.color_id\r\n          LEFT JOIN product_category pc ON pc.product_category_id = p.product_category_id\r\n          WHERE p.product_id = ?`, [\n                    id\n                ]);\n                if (rows.length === 0) {\n                    res.status(404).json({\n                        message: \"Product not found\"\n                    });\n                    return;\n                }\n                res.status(200).json(rows[0]);\n            } else {\n                // Get all products\n                const [rows] = await connection.execute(`SELECT \r\n            p.product_id,\r\n            p.product_key,\r\n            p.product_name,\r\n            p.product_category_id,\r\n            pc.product_category_name,\r\n            p.color_id,\r\n            c.color_name,\r\n            p.qty,\r\n            p.stock,\r\n            p.purchase_price,\r\n            p.lot,\r\n            p.shipping_cost_piece,\r\n            p.total_cost_including_shipping,\r\n            p.sell_price_1,\r\n            p.sell_price_2,\r\n            p.sell_price_3,\r\n            p.product_status,\r\n            p.is_shopee,\r\n            p.is_lazada\r\n          FROM product p\r\n          LEFT JOIN color c ON c.color_id = p.color_id\r\n          LEFT JOIN product_category pc ON pc.product_category_id = p.product_category_id`);\n                res.status(200).json(rows);\n            }\n        } else if (req.method === \"POST\") {\n            const { product_key, product_name, product_category_id, color_id, qty, stock, purchase_price, lot, shipping_cost_piece, total_cost_including_shipping, sell_price_1, sell_price_2, sell_price_3, product_status, is_shopee, is_lazada } = req.body;\n            // Validate required fields here if needed\n            const [result] = await connection.execute(`INSERT INTO product \r\n          (product_key, product_name, product_category_id, color_id, qty, stock, purchase_price, lot, shipping_cost_piece, total_cost_including_shipping, sell_price_1, sell_price_2, sell_price_3, product_statusis_shopee,is_lazada)\r\n         VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,?,?)`, [\n                product_key,\n                product_name,\n                product_category_id,\n                color_id,\n                qty,\n                stock,\n                purchase_price,\n                lot,\n                shipping_cost_piece,\n                total_cost_including_shipping,\n                sell_price_1,\n                sell_price_2,\n                sell_price_3,\n                product_status,\n                is_shopee,\n                is_lazada\n            ]);\n            res.status(201).json({\n                message: \"Product added\",\n                product_id: result.insertId\n            });\n        } else if (req.method === \"PUT\") {\n            let { id } = req.query;\n            console.log(\"PUT request id from query:\", id);\n            console.log(\"PUT request body:\", req.body);\n            if (!id) {\n                res.status(400).json({\n                    message: \"Product ID is required\"\n                });\n                return;\n            }\n            // Convert id to number (if possible)\n            id = Number(id);\n            if (isNaN(id)) {\n                res.status(400).json({\n                    message: \"Invalid Product ID\"\n                });\n                return;\n            }\n            const { product_key, product_name, product_category_id, color_id, qty, stock, purchase_price, lot, shipping_cost_piece, total_cost_including_shipping, sell_price_1, sell_price_2, sell_price_3, product_status, is_shopee, is_lazada } = req.body;\n            const [result] = await connection.execute(`UPDATE product SET\r\n          product_key = ?,\r\n          product_name = ?,\r\n          product_category_id = ?,\r\n          color_id = ?,\r\n          qty = ?,\r\n          stock = ?,\r\n          purchase_price = ?,\r\n          lot = ?,\r\n          shipping_cost_piece = ?,\r\n          total_cost_including_shipping = ?,\r\n          sell_price_1 = ?,\r\n          sell_price_2 = ?,\r\n          sell_price_3 = ?,\r\n          product_status = ?,\r\n          is_shopee = ?,\r\n          is_lazada = ?\r\n         WHERE product_id = ?`, [\n                product_key,\n                product_name,\n                product_category_id,\n                color_id,\n                qty,\n                stock,\n                purchase_price,\n                lot,\n                shipping_cost_piece,\n                total_cost_including_shipping,\n                sell_price_1,\n                sell_price_2,\n                sell_price_3,\n                product_status,\n                is_shopee,\n                is_lazada,\n                id\n            ]);\n            if (result.affectedRows === 0) {\n                res.status(404).json({\n                    message: \"Product not found\"\n                });\n            } else {\n                res.status(200).json({\n                    message: \"Product updated\"\n                });\n            }\n        } else if (req.method === \"DELETE\") {\n            let { id } = req.query;\n            if (!id) {\n                res.status(400).json({\n                    message: \"Product ID is required\"\n                });\n                return;\n            }\n            // Convert id to number\n            id = Number(id);\n            if (isNaN(id)) {\n                res.status(400).json({\n                    message: \"Invalid Product ID\"\n                });\n                return;\n            }\n            const [result] = await connection.execute(`DELETE FROM product WHERE product_id = ?`, [\n                id\n            ]);\n            if (result.affectedRows === 0) {\n                res.status(404).json({\n                    message: \"Product not found\"\n                });\n            } else {\n                res.status(200).json({\n                    message: \"Product deleted\"\n                });\n            }\n        } else {\n            res.setHeader(\"Allow\", [\n                \"GET\",\n                \"POST\",\n                \"PUT\",\n                \"DELETE\"\n            ]);\n            res.status(405).json({\n                message: `Method ${req.method} Not Allowed`\n            });\n        }\n    } catch (error) {\n        console.error(\"API Error:\", error);\n        res.status(500).json({\n            message: \"Internal Server Error\",\n            error: error.message\n        });\n    } finally{\n        await connection.end();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU8sRUFBRWhCLElBQUlRLE9BQU8sWUFBWSxDQUFDO1lBQUM7UUFDckU7SUFDRixFQUFFLE9BQU9tQyxPQUFPO1FBQ2ROLFFBQVFNLE1BQU0sY0FBY0E7UUFDNUIxQyxJQUFJYSxPQUFPLEtBQUtDLEtBQUs7WUFBRUMsU0FBUztZQUF5QjJCLE9BQU9BLE1BQU0zQjtRQUFRO0lBQ2hGLFNBQVU7UUFDUixNQUFNZCxXQUFXMEM7SUFDbkI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3BhZ2VzL2FwaS9wcm9kdWN0cy5qcz80OWNiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBteXNxbCBmcm9tICdteXNxbDIvcHJvbWlzZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XHJcbiAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IG15c3FsLmNyZWF0ZUNvbm5lY3Rpb24oe1xyXG4gICAgaG9zdDogJ2xvY2FsaG9zdCcsXHJcbiAgICB1c2VyOiAncm9vdCcsXHJcbiAgICBwYXNzd29yZDogJycsXHJcbiAgICBkYXRhYmFzZTogJ1NlbGxlclNob3BlZScsXHJcbiAgfSk7XHJcblxyXG4gIHRyeSB7XHJcbiAgICBpZiAocmVxLm1ldGhvZCA9PT0gJ0dFVCcpIHtcclxuICAgICAgY29uc3QgeyBpZCB9ID0gcmVxLnF1ZXJ5O1xyXG5cclxuICAgICAgaWYgKGlkKSB7XHJcbiAgICAgICAgY29uc3QgW3Jvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxyXG4gICAgICAgICAgYFNFTEVDVCBcclxuICAgICAgICAgICAgcC5wcm9kdWN0X2lkLFxyXG4gICAgICAgICAgICBwLnByb2R1Y3Rfa2V5LFxyXG4gICAgICAgICAgICBwLnByb2R1Y3RfbmFtZSxcclxuICAgICAgICAgICAgcC5wcm9kdWN0X2NhdGVnb3J5X2lkLFxyXG4gICAgICAgICAgICBwYy5wcm9kdWN0X2NhdGVnb3J5X25hbWUsXHJcbiAgICAgICAgICAgIHAuY29sb3JfaWQsXHJcbiAgICAgICAgICAgIGMuY29sb3JfbmFtZSxcclxuICAgICAgICAgICAgcC5xdHksXHJcbiAgICAgICAgICAgIHAuc3RvY2ssXHJcbiAgICAgICAgICAgIHAucHVyY2hhc2VfcHJpY2UsXHJcbiAgICAgICAgICAgIHAubG90LFxyXG4gICAgICAgICAgICBwLnNoaXBwaW5nX2Nvc3RfcGllY2UsXHJcbiAgICAgICAgICAgIHAudG90YWxfY29zdF9pbmNsdWRpbmdfc2hpcHBpbmcsXHJcbiAgICAgICAgICAgIHAuc2VsbF9wcmljZV8xLFxyXG4gICAgICAgICAgICBwLnNlbGxfcHJpY2VfMixcclxuICAgICAgICAgICAgcC5zZWxsX3ByaWNlXzMsXHJcbiAgICAgICAgICAgIHAucHJvZHVjdF9zdGF0dXMsXHJcbiAgICAgICAgICAgIHAuaXNfc2hvcGVlLFxyXG4gICAgICAgICAgICBwLmlzX2xhemFkYVxyXG4gICAgICAgICAgRlJPTSBwcm9kdWN0IHBcclxuICAgICAgICAgIExFRlQgSk9JTiBjb2xvciBjIE9OIGMuY29sb3JfaWQgPSBwLmNvbG9yX2lkXHJcbiAgICAgICAgICBMRUZUIEpPSU4gcHJvZHVjdF9jYXRlZ29yeSBwYyBPTiBwYy5wcm9kdWN0X2NhdGVnb3J5X2lkID0gcC5wcm9kdWN0X2NhdGVnb3J5X2lkXHJcbiAgICAgICAgICBXSEVSRSBwLnByb2R1Y3RfaWQgPSA/YCxcclxuICAgICAgICAgIFtpZF1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBpZiAocm93cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1Byb2R1Y3Qgbm90IGZvdW5kJyB9KTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHJvd3NbMF0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEdldCBhbGwgcHJvZHVjdHNcclxuICAgICAgICBjb25zdCBbcm93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoXHJcbiAgICAgICAgICBgU0VMRUNUIFxyXG4gICAgICAgICAgICBwLnByb2R1Y3RfaWQsXHJcbiAgICAgICAgICAgIHAucHJvZHVjdF9rZXksXHJcbiAgICAgICAgICAgIHAucHJvZHVjdF9uYW1lLFxyXG4gICAgICAgICAgICBwLnByb2R1Y3RfY2F0ZWdvcnlfaWQsXHJcbiAgICAgICAgICAgIHBjLnByb2R1Y3RfY2F0ZWdvcnlfbmFtZSxcclxuICAgICAgICAgICAgcC5jb2xvcl9pZCxcclxuICAgICAgICAgICAgYy5jb2xvcl9uYW1lLFxyXG4gICAgICAgICAgICBwLnF0eSxcclxuICAgICAgICAgICAgcC5zdG9jayxcclxuICAgICAgICAgICAgcC5wdXJjaGFzZV9wcmljZSxcclxuICAgICAgICAgICAgcC5sb3QsXHJcbiAgICAgICAgICAgIHAuc2hpcHBpbmdfY29zdF9waWVjZSxcclxuICAgICAgICAgICAgcC50b3RhbF9jb3N0X2luY2x1ZGluZ19zaGlwcGluZyxcclxuICAgICAgICAgICAgcC5zZWxsX3ByaWNlXzEsXHJcbiAgICAgICAgICAgIHAuc2VsbF9wcmljZV8yLFxyXG4gICAgICAgICAgICBwLnNlbGxfcHJpY2VfMyxcclxuICAgICAgICAgICAgcC5wcm9kdWN0X3N0YXR1cyxcclxuICAgICAgICAgICAgcC5pc19zaG9wZWUsXHJcbiAgICAgICAgICAgIHAuaXNfbGF6YWRhXHJcbiAgICAgICAgICBGUk9NIHByb2R1Y3QgcFxyXG4gICAgICAgICAgTEVGVCBKT0lOIGNvbG9yIGMgT04gYy5jb2xvcl9pZCA9IHAuY29sb3JfaWRcclxuICAgICAgICAgIExFRlQgSk9JTiBwcm9kdWN0X2NhdGVnb3J5IHBjIE9OIHBjLnByb2R1Y3RfY2F0ZWdvcnlfaWQgPSBwLnByb2R1Y3RfY2F0ZWdvcnlfaWRgXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihyb3dzKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChyZXEubWV0aG9kID09PSAnUE9TVCcpIHtcclxuICAgICAgY29uc3Qge1xyXG4gICAgICAgIHByb2R1Y3Rfa2V5LFxyXG4gICAgICAgIHByb2R1Y3RfbmFtZSxcclxuICAgICAgICBwcm9kdWN0X2NhdGVnb3J5X2lkLFxyXG4gICAgICAgIGNvbG9yX2lkLFxyXG4gICAgICAgIHF0eSxcclxuICAgICAgICBzdG9jayxcclxuICAgICAgICBwdXJjaGFzZV9wcmljZSxcclxuICAgICAgICBsb3QsXHJcbiAgICAgICAgc2hpcHBpbmdfY29zdF9waWVjZSxcclxuICAgICAgICB0b3RhbF9jb3N0X2luY2x1ZGluZ19zaGlwcGluZyxcclxuICAgICAgICBzZWxsX3ByaWNlXzEsXHJcbiAgICAgICAgc2VsbF9wcmljZV8yLFxyXG4gICAgICAgIHNlbGxfcHJpY2VfMyxcclxuICAgICAgICBwcm9kdWN0X3N0YXR1cyxcclxuICAgICAgICBpc19zaG9wZWUsXHJcbiAgICAgICAgaXNfbGF6YWRhXHJcbiAgICAgIH0gPSByZXEuYm9keTtcclxuXHJcbiAgICAgIC8vIFZhbGlkYXRlIHJlcXVpcmVkIGZpZWxkcyBoZXJlIGlmIG5lZWRlZFxyXG5cclxuICAgICAgY29uc3QgW3Jlc3VsdF0gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoXHJcbiAgICAgICAgYElOU0VSVCBJTlRPIHByb2R1Y3QgXHJcbiAgICAgICAgICAocHJvZHVjdF9rZXksIHByb2R1Y3RfbmFtZSwgcHJvZHVjdF9jYXRlZ29yeV9pZCwgY29sb3JfaWQsIHF0eSwgc3RvY2ssIHB1cmNoYXNlX3ByaWNlLCBsb3QsIHNoaXBwaW5nX2Nvc3RfcGllY2UsIHRvdGFsX2Nvc3RfaW5jbHVkaW5nX3NoaXBwaW5nLCBzZWxsX3ByaWNlXzEsIHNlbGxfcHJpY2VfMiwgc2VsbF9wcmljZV8zLCBwcm9kdWN0X3N0YXR1c2lzX3Nob3BlZSxpc19sYXphZGEpXHJcbiAgICAgICAgIFZBTFVFUyAoPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPyw/LD8pYCxcclxuICAgICAgICBbXHJcbiAgICAgICAgICBwcm9kdWN0X2tleSxcclxuICAgICAgICAgIHByb2R1Y3RfbmFtZSxcclxuICAgICAgICAgIHByb2R1Y3RfY2F0ZWdvcnlfaWQsXHJcbiAgICAgICAgICBjb2xvcl9pZCxcclxuICAgICAgICAgIHF0eSxcclxuICAgICAgICAgIHN0b2NrLFxyXG4gICAgICAgICAgcHVyY2hhc2VfcHJpY2UsXHJcbiAgICAgICAgICBsb3QsXHJcbiAgICAgICAgICBzaGlwcGluZ19jb3N0X3BpZWNlLFxyXG4gICAgICAgICAgdG90YWxfY29zdF9pbmNsdWRpbmdfc2hpcHBpbmcsXHJcbiAgICAgICAgICBzZWxsX3ByaWNlXzEsXHJcbiAgICAgICAgICBzZWxsX3ByaWNlXzIsXHJcbiAgICAgICAgICBzZWxsX3ByaWNlXzMsXHJcbiAgICAgICAgICBwcm9kdWN0X3N0YXR1cyxcclxuICAgICAgICAgIGlzX3Nob3BlZSxcclxuICAgICAgICAgIGlzX2xhemFkYVxyXG4gICAgICAgIF1cclxuICAgICAgKTtcclxuXHJcbiAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHsgbWVzc2FnZTogJ1Byb2R1Y3QgYWRkZWQnLCBwcm9kdWN0X2lkOiByZXN1bHQuaW5zZXJ0SWQgfSk7XHJcblxyXG4gICAgfSBlbHNlIGlmIChyZXEubWV0aG9kID09PSAnUFVUJykge1xyXG4gICAgICBsZXQgeyBpZCB9ID0gcmVxLnF1ZXJ5O1xyXG5cclxuICAgICAgY29uc29sZS5sb2coJ1BVVCByZXF1ZXN0IGlkIGZyb20gcXVlcnk6JywgaWQpO1xyXG4gICAgICBjb25zb2xlLmxvZygnUFVUIHJlcXVlc3QgYm9keTonLCByZXEuYm9keSk7XHJcblxyXG4gICAgICBpZiAoIWlkKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnUHJvZHVjdCBJRCBpcyByZXF1aXJlZCcgfSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDb252ZXJ0IGlkIHRvIG51bWJlciAoaWYgcG9zc2libGUpXHJcbiAgICAgIGlkID0gTnVtYmVyKGlkKTtcclxuICAgICAgaWYgKGlzTmFOKGlkKSkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ0ludmFsaWQgUHJvZHVjdCBJRCcgfSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCB7XHJcbiAgICAgICAgcHJvZHVjdF9rZXksXHJcbiAgICAgICAgcHJvZHVjdF9uYW1lLFxyXG4gICAgICAgIHByb2R1Y3RfY2F0ZWdvcnlfaWQsXHJcbiAgICAgICAgY29sb3JfaWQsXHJcbiAgICAgICAgcXR5LFxyXG4gICAgICAgIHN0b2NrLFxyXG4gICAgICAgIHB1cmNoYXNlX3ByaWNlLFxyXG4gICAgICAgIGxvdCxcclxuICAgICAgICBzaGlwcGluZ19jb3N0X3BpZWNlLFxyXG4gICAgICAgIHRvdGFsX2Nvc3RfaW5jbHVkaW5nX3NoaXBwaW5nLFxyXG4gICAgICAgIHNlbGxfcHJpY2VfMSxcclxuICAgICAgICBzZWxsX3ByaWNlXzIsXHJcbiAgICAgICAgc2VsbF9wcmljZV8zLFxyXG4gICAgICAgIHByb2R1Y3Rfc3RhdHVzLFxyXG4gICAgICAgIGlzX3Nob3BlZSxcclxuICAgICAgICBpc19sYXphZGEsXHJcbiAgICAgIH0gPSByZXEuYm9keTtcclxuXHJcbiAgICAgIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxyXG4gICAgICAgIGBVUERBVEUgcHJvZHVjdCBTRVRcclxuICAgICAgICAgIHByb2R1Y3Rfa2V5ID0gPyxcclxuICAgICAgICAgIHByb2R1Y3RfbmFtZSA9ID8sXHJcbiAgICAgICAgICBwcm9kdWN0X2NhdGVnb3J5X2lkID0gPyxcclxuICAgICAgICAgIGNvbG9yX2lkID0gPyxcclxuICAgICAgICAgIHF0eSA9ID8sXHJcbiAgICAgICAgICBzdG9jayA9ID8sXHJcbiAgICAgICAgICBwdXJjaGFzZV9wcmljZSA9ID8sXHJcbiAgICAgICAgICBsb3QgPSA/LFxyXG4gICAgICAgICAgc2hpcHBpbmdfY29zdF9waWVjZSA9ID8sXHJcbiAgICAgICAgICB0b3RhbF9jb3N0X2luY2x1ZGluZ19zaGlwcGluZyA9ID8sXHJcbiAgICAgICAgICBzZWxsX3ByaWNlXzEgPSA/LFxyXG4gICAgICAgICAgc2VsbF9wcmljZV8yID0gPyxcclxuICAgICAgICAgIHNlbGxfcHJpY2VfMyA9ID8sXHJcbiAgICAgICAgICBwcm9kdWN0X3N0YXR1cyA9ID8sXHJcbiAgICAgICAgICBpc19zaG9wZWUgPSA/LFxyXG4gICAgICAgICAgaXNfbGF6YWRhID0gP1xyXG4gICAgICAgICBXSEVSRSBwcm9kdWN0X2lkID0gP2AsXHJcbiAgICAgICAgW1xyXG4gICAgICAgICAgcHJvZHVjdF9rZXksXHJcbiAgICAgICAgICBwcm9kdWN0X25hbWUsXHJcbiAgICAgICAgICBwcm9kdWN0X2NhdGVnb3J5X2lkLFxyXG4gICAgICAgICAgY29sb3JfaWQsXHJcbiAgICAgICAgICBxdHksXHJcbiAgICAgICAgICBzdG9jayxcclxuICAgICAgICAgIHB1cmNoYXNlX3ByaWNlLFxyXG4gICAgICAgICAgbG90LFxyXG4gICAgICAgICAgc2hpcHBpbmdfY29zdF9waWVjZSxcclxuICAgICAgICAgIHRvdGFsX2Nvc3RfaW5jbHVkaW5nX3NoaXBwaW5nLFxyXG4gICAgICAgICAgc2VsbF9wcmljZV8xLFxyXG4gICAgICAgICAgc2VsbF9wcmljZV8yLFxyXG4gICAgICAgICAgc2VsbF9wcmljZV8zLFxyXG4gICAgICAgICAgcHJvZHVjdF9zdGF0dXMsXHJcbiAgICAgICAgICBpc19zaG9wZWUsXHJcbiAgICAgICAgICBpc19sYXphZGEsXHJcbiAgICAgICAgICBpZCxcclxuICAgICAgICBdXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAocmVzdWx0LmFmZmVjdGVkUm93cyA9PT0gMCkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1Byb2R1Y3Qgbm90IGZvdW5kJyB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdQcm9kdWN0IHVwZGF0ZWQnIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgfSBlbHNlIGlmIChyZXEubWV0aG9kID09PSAnREVMRVRFJykge1xyXG4gICAgICBsZXQgeyBpZCB9ID0gcmVxLnF1ZXJ5O1xyXG5cclxuICAgICAgaWYgKCFpZCkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1Byb2R1Y3QgSUQgaXMgcmVxdWlyZWQnIH0pO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ29udmVydCBpZCB0byBudW1iZXJcclxuICAgICAgaWQgPSBOdW1iZXIoaWQpO1xyXG4gICAgICBpZiAoaXNOYU4oaWQpKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnSW52YWxpZCBQcm9kdWN0IElEJyB9KTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxyXG4gICAgICAgIGBERUxFVEUgRlJPTSBwcm9kdWN0IFdIRVJFIHByb2R1Y3RfaWQgPSA/YCxcclxuICAgICAgICBbaWRdXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAocmVzdWx0LmFmZmVjdGVkUm93cyA9PT0gMCkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1Byb2R1Y3Qgbm90IGZvdW5kJyB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdQcm9kdWN0IGRlbGV0ZWQnIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXMuc2V0SGVhZGVyKCdBbGxvdycsIFsnR0VUJywgJ1BPU1QnLCAnUFVUJywgJ0RFTEVURSddKTtcclxuICAgICAgcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBtZXNzYWdlOiBgTWV0aG9kICR7cmVxLm1ldGhvZH0gTm90IEFsbG93ZWRgIH0pO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdBUEkgRXJyb3I6JywgZXJyb3IpO1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnSW50ZXJuYWwgU2VydmVyIEVycm9yJywgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgfSBmaW5hbGx5IHtcclxuICAgIGF3YWl0IGNvbm5lY3Rpb24uZW5kKCk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJteXNxbCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJjb25uZWN0aW9uIiwiY3JlYXRlQ29ubmVjdGlvbiIsImhvc3QiLCJ1c2VyIiwicGFzc3dvcmQiLCJkYXRhYmFzZSIsIm1ldGhvZCIsImlkIiwicXVlcnkiLCJyb3dzIiwiZXhlY3V0ZSIsImxlbmd0aCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwicHJvZHVjdF9rZXkiLCJwcm9kdWN0X25hbWUiLCJwcm9kdWN0X2NhdGVnb3J5X2lkIiwiY29sb3JfaWQiLCJxdHkiLCJzdG9jayIsInB1cmNoYXNlX3ByaWNlIiwibG90Iiwic2hpcHBpbmdfY29zdF9waWVjZSIsInRvdGFsX2Nvc3RfaW5jbHVkaW5nX3NoaXBwaW5nIiwic2VsbF9wcmljZV8xIiwic2VsbF9wcmljZV8yIiwic2VsbF9wcmljZV8zIiwicHJvZHVjdF9zdGF0dXMiLCJpc19zaG9wZWUiLCJpc19sYXphZGEiLCJib2R5IiwicmVzdWx0IiwicHJvZHVjdF9pZCIsImluc2VydElkIiwiY29uc29sZSIsImxvZyIsIk51bWJlciIsImlzTmFOIiwiYWZmZWN0ZWRSb3dzIiwic2V0SGVhZGVyIiwiZXJyb3IiLCJlbmQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/products.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/products.js"));
module.exports = __webpack_exports__;

})();